<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Dokumentation</title>
</head>
<body>
<h1>Dokumentation</h1>
<ol>
<li><a href="#requirements">Voraussetzungen</a>
<ol><li><a href="#indexing">Indexierung</a></li></ol>
</li>
<li><a href="#installation">Installation</a>
<ol><li><a href="#signature">Signatur</a></li></ol>
</li>
<li><a href="#usage">Nutzung</a></li>
<li><a href="#embedding">Einbettung in HTML</a></li>
<li><a href="#todo">Todo</a></li>
</ol>
<hr/>
<h2><a name="requirements">Voraussetzungen</a></h2>
<p>In diesem Abschnitt werden die notwendigen Voraussetzungen beschrieben, um das Such-Applet nutzen zu k&ouml;nnen.</p> 
<h3><a name="indexing">Indexierung</a></h3>
<p>Zun&auml;chst muss ein Index generiert werden, in dem folgende Informationen zu einer Datei jeweils in einer Zeile stehen:</p>
<pre>
Dok1.html|Titel des 1. Dokuments|Inhalt des 1. Dokuments
Dok2.html|Titel des 2. Dokuments|Inhalt des 2. Dokuments
Dok3.html|Titel des 3. Dokuments|Inhalt des 3. Dokuments
...
Dokn.html|Titel des n. Dokuments|Inhalt des n. Dokuments
</pre>
<p>Der erste Eintrag entspricht dem Namen der HTML-Datei, der zweite dem dazugeh&ouml;rigen Dokumenttitel und der dritte dem Inhalt. Der Inhalt sollte der extrahierte Text einer HTML-Datei sein. Es kann sich aber beispielsweise auch um eine Schlagwortliste handeln, aus der zuvor Stoppw&ouml;rter herausgefiltert wurden. Da <strong>|</strong> das Trennzeichen zwischen den einzelnen Eintr&auml;gen ist, darf es nicht im Text vorkommen, d.h. es muss ggf. beim Prozess der Indexierung entfernt werden.
</p>
<h2><a name="installation">Installation</a></h2>
<p>Folgende Java-Source-Dateien (*.java-Dateien) m&uuml;ssen in ein Verzeichnis kopiert und dort kompiliert werden:</p>
<ul>
<li>ReadIndex.java</li>
<li>Result.java</li>
<li>SearchApplet.java</li>
<li>SortResultHash.java</li>
</ul>
<pre>
ramiro@host:~/buscaROM > javac SearchApplet.java 
</pre>
<p>Folgende Java-Byte-Code-Dateien werden erzeugt:</p>
<ul>
<li>ReadIndex.class</li>
<li>Result$1.class</li>
<li>Result$URLChoice.class</li>
<li>Result.class</li>
<li>SearchApplet$1.class</li>
<li>SearchApplet$OptionChoice.class</li>
<li>SearchApplet.class</li>
<li>SortResultHash.class</li>
</ul>
<h3><a name="signature">Signatur</a></h3>
<p>Da das Applet eine lokale Datei liest (index.dat) und damit gegen das Sicherheitsbeschr&auml;nkungen von Java-Applets verst&ouml;&szlig;t, muss es signiert werden, um es nutzen zu k&ouml;nnen. Die Signatur kann beispielsweise mit den von Sun zur Verf&uuml;gung gestellten Signaturwerkzeugen erfolgen.</p>
<h4>Erzeugung eines Schl&uuml;sselpaares</h4>
<p>Zum Erzeugen eines DSA-Schl&uuml;sselpaares der L&auml;nge 1024 mit einer G&uuml;ltigkeitsdauer von 90 Tagen kann man das Programm <em>keytool</em> folgenderma&szlig;en aufrufen:</p>
<pre>
keytool -genkey -alias javasearch -dname "CN=Ramiro Gomez, OU=Sub-Org, O=Org, L=Berlin, C=de"
</pre>
<p>Danach muss man ein Passwort angeben, dass beim Signieren wieder ben&ouml;tigt wird.</p>
<h4>Signierung des jar-Archivs</h4>
<p>Um das Applet zu signieren, m&uuml;ssen die .class-Dateien in einem jar-Archiv archiviert werden. Dazu kann man folgendes Kommando im entsprechenden Verzeichnis ausf&uuml;hren:</p>
<pre>
jar cvf sig.jar *.class
</pre>
<p>Die Archiv-Datei <em>sig.jar</em>, die durch den letzen Schritt erzeigt wurde, wird nun mit dem Tool <em>jarsigner</em> signiert:</p>
<pre>
jarsigner -signedjar SignedSearch.jar sig.jar javasearch
</pre>
<p>Auf die Option <em>-signedjar</em>folgt der name des signierten jar-Archivs, dass in diesem Schritt erzeugt wird. Darauf der Name des Quell-Archivs und darauf der Aliasname, der beim Erzeugen der Schl&uuml;ssel angegeben wurde. Das Signieren muss mit dem zuvor angegebenen Passwort best&auml;tigt werden.</p>
<h2><a name="usage">Nutzung</a></h2>
<p>Das signierte jar-Archiv muss sich in demselben Verzeichnis befinden, wie die Datei <em>index.dat</em>, die die Informationen der indexierten HTML-Dateien enth&auml;lt und kann dann durch die Einbindung in eine oder mehrere HTML-Dateien genutzt werden.</p>
<h2><a name="embedding">Einbettung in HTML</a></h2>
<p>Das Applet kann folgenderma&szlig;en in HTML-Code eingebunden werden:</p>
<pre style="color:red;">
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Search&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Search&lt;/h1&gt;
&lt;p&gt;
&lt;OBJECT classid=&quot;clsid:8AD9C840-044E-11D1-B3E9-00805F499D93&quot; WIDTH=&quot;280&quot; HEIGHT=&quot;80&quot;&gt;
&lt;PARAM NAME=&quot;CODE&quot; VALUE=&quot;SearchApplet.class&quot;&gt;
&lt;PARAM NAME=&quot;ARCHIVE&quot; VALUE=&quot;SignedSearch.jar&quot;&gt;
&lt;PARAM NAME=&quot;type&quot; VALUE=&quot;application/x-java-applet;version=1.2&quot;&gt;
&lt;/OBJECT&gt;
&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Ausf&uuml;hrliche Informationen zu diesem Thema findet man unter <a href="http://java.sun.com/j2se/1.4/docs/guide/plugin/developer_guide/using_tags.html">http://java.sun.com/j2se/1.4/docs/guide/plugin/developer_guide/using_tags.html</a>.</p>
<h2><a name="todo">Todo</a></h2>
<ul>
<li>Suchvorgang dokumentieren. </li>
<li>Perl-Script zur Indexierung schreiben, dass eine Indexdatei im richtigen Format erzeugt. </li>
<li>Java-Klasse zur Indexierung schreiben, die eine Indexdatei im richtigen Format erzeugt. </li>
</ul>
<hr/>
<p><a href="mailto:ramiro@prz.tu-berlin.de">Ramiro G&oacute;mez</a>
<br/>
<a href="http://validator.w3.org/check/referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a>
</p>
</body>
</html>